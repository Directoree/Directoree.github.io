{"title":"CTF-Basic-knowledge","date":"2019-07-21T15:58:20.000Z","thumbnail":"https://i.loli.net/2019/07/22/5d348c49a5f7149330.jpg","link":"post/CTF-Basic-knowledge","comments":true,"tags":["CTF"],"categories":["CTF"],"updated":"2019-07-23T17:03:55.000Z","content":"<p>(｡◕︎‿◕︎)ﾉﾟ･ﾟ･*</p>\n<a id=\"more\"></a>\n\n\n<h2 id=\"一、Misc\"><font color=\"#FF6347\" face=\"Comic sans MS\">一、Misc</font><a href=\"post/CTF-Basic-knowledge#一、Misc\"></a></h2><h3 id=\"1-1-文件操作与隐写\"><font color=\"#3CB371\" face=\"Comic sans MS\">1.1 文件操作与隐写</font><a href=\"post/CTF-Basic-knowledge#1-1-文件操作与隐写\"></a></h3><h4 id=\"文件类型识别\"><font color=\"#3CB371\" face=\"Comic sans MS\">文件类型识别</font><a href=\"post/CTF-Basic-knowledge#文件类型识别\"></a></h4><ol>\n<li><p>识别文件类型：主要就是识别文件头，常见文件头类型参见<font color=\"#00B2EE\"><a href=\"https://blog.csdn.net/zhembrace/article/details/52717559\" target=\"_blank\" rel=\"noopener\">《各类文件的文件头标志》\n</a></font></p>\n<ul>\n<li>Linux命令： <strong>file 文件名</strong>   --查看文件类型</li>\n</ul>\n</li>\n<li><p>使用工具 <strong>winhex</strong><br> <strong>文件头残缺/错误</strong><br> 通常文件无法正常打开有两种情况，一种是文件头部残缺，另-种是文件头部字段错误。针对文件头部残缺的情况，使用winhex程序添加相应的文件头，针对头部字段错误，可以找一个相同类型的文件进行替换。<br> 使用场景:文件头部残缺或文件头部字段错误无法打开正常文件。<br> 格式: <code>file 文件名</code> 返回<code>data</code>说明file命令识别不出文件类型</p>\n</li>\n<li><p>Notepad++下插件<strong>HEX-Editor</strong></p>\n</li>\n</ol>\n<h4 id=\"文件分离操作\"><font color=\"#3CB371\" face=\"Comic sans MS\">文件分离操作</font><a href=\"post/CTF-Basic-knowledge#文件分离操作\"></a></h4><ol>\n<li>使用<strong>Binwalk</strong>工具<br> Binwalk是linux下用来分析和分离文件的工具，可以快速分辨文件是否由多个文件合并而成，并将文件进行分离。如果分离成功会在目标文件的目录。<br> 同目录下生成-个形如    <code>_文件名_ extracted</code>的文件目录，目录中有分离后的文件。<br> 用法:<br> 分析文件: <code>binwalk filename</code><br> 分离文件: <code>binwalk -e filename</code></li>\n</ol>\n<div class=\"article-img\"><p><img src=\"https://i.loli.net/2019/07/22/5d3495a990bac30655.png\" alt=\"1\" data-zoomable><br><img src=\"https://i.loli.net/2019/07/22/5d349956b75dd55161.png\" alt=\"2\" data-zoomable></p></div>\n<blockquote>\n<p><strong>说明</strong></p>\n</blockquote>\n<ul>\n<li><strong>DECIMAL</strong> 十进制的意思</li>\n<li><strong>HREXADECOIMAL</strong> 十六进制的意思</li>\n<li><strong>DESCRIPTION</strong> 关于文件的描述</li>\n</ul>\n<div class=\"article-bounded\"><div class=\"article-table\"><table>\n<thead>\n<tr>\n<th align=\"center\"><strong>DECIMAL</strong></th>\n<th align=\"center\"><strong>HREXADECOIMAL</strong></th>\n<th align=\"center\"><strong>DESCRIPTION</strong></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">0</td>\n<td align=\"center\">0x0</td>\n<td align=\"center\">JPEG…</td>\n</tr>\n<tr>\n<td align=\"center\">22895</td>\n<td align=\"center\">0x596F</td>\n<td align=\"center\">ZIP…</td>\n</tr>\n<tr>\n<td align=\"center\">23046</td>\n<td align=\"center\">0x5A06</td>\n<td align=\"center\">END ZIP…</td>\n</tr>\n</tbody></table></div></div>\n<p>说明十六进制下<strong>0x0~0x596E</strong>这个存储空间里是一个JPEG类型的文件，而<strong>0x5970~0x5A06</strong>是另一个zip类型的文件</p>\n<ol start=\"4\">\n<li>使用工具<strong>010Editor</strong>可以直接对文件二进制代码进行编辑，</li>\n</ol>\n<h4 id=\"文件分离操作-1\"><font color=\"#3CB371\" face=\"Comic sans MS\">文件分离操作</font><a href=\"post/CTF-Basic-knowledge#文件分离操作-1\"></a></h4><ol>\n<li><p><strong>Binwalk工具</strong><br>Binwalk 是Linux下用来分析和分离文件的工具，可以快速分辨文件是否由多个文件合并而成，并将文件进行分离。如果分离成功会在目标文件的目录。<br>同目录下生成一个形如文件名extracted的文件目录，目录中有分离后的文件。<br>用法:</p>\n<pre class=\"line-numbers language-c\"><code class=\"language-c\">分析文件<span class=\"token punctuation\">:</span> binwalk filename\n分离文件<span class=\"token punctuation\">:</span> binwalk <span class=\"token operator\">-</span>e filename<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n</li>\n<li><p><strong>Foremost工具</strong><br>如果binwalk无法正确分离出文件，可以使用foremost, 将目标文件复制到kali中，成功执行后，会在目标文件的文件目录 下生成我们设置的目录，目录中会按文件类型分离出文件。<br>命令</p>\n<pre class=\"line-numbers language-c\"><code class=\"language-c\">foremost 文件名 <span class=\"token operator\">-</span>o 输出到的目录名<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n<li><p><strong>dd 工具</strong><br>应用于文件二进制代码分块混合时，前面的那些图形化界面的工具无法操作的可食用dd工具手工分离。<br>当文件自动分离出错或者因为其他原因无法自动分离时，可以使用dd实现文件手动分离。格式:</p>\n<pre class=\"line-numbers language-c\"><code class=\"language-c\">dd <span class=\"token keyword\">if</span><span class=\"token operator\">=</span>源文件 of<span class=\"token operator\">=</span>目标文件名名 bs<span class=\"token operator\">=</span><span class=\"token number\">1</span> skip<span class=\"token operator\">=</span>开始分离的字节数 <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</li>\n</ol>\n<p>参数说明:</p>\n<ul>\n<li>if=file  输入文件名，缺省为标准输入。</li>\n<li>of=file  输出文件名，缺省为标准输出。</li>\n<li>bs=bytes 同时设置读写块的大小为bytes，可代替ibs和obs。</li>\n<li>skip=blocks  从输入文件开头跳过blocks个块后再开始复制。</li>\n</ul>\n<div class=\"article-img\"><p><img src=\"https://i.loli.net/2019/07/24/5d3736ceec8f659183.png\" alt=\"3\" data-zoomable><br><img src=\"https://i.loli.net/2019/07/24/5d3736ca5680172372.png\" alt=\"4\" data-zoomable></p></div>\n<p>若给的是一个二进代码，则可以将二进制代码导入<strong>010Editor</strong>然后另存为即得到原文件。</p>\n<h4 id=\"文件合并操作\"><font color=\"#3CB371\" face=\"Comic sans MS\">文件合并操作</font><a href=\"post/CTF-Basic-knowledge#文件合并操作\"></a></h4><div class=\"article-img\"><p><img src=\"https://i.loli.net/2019/07/24/5d3738712aa7634550.png\" alt=\"5\" data-zoomable></p></div>\n<h4 id=\"文件内容隐写\"><font color=\"#3CB371\" face=\"Comic sans MS\">文件内容隐写</font><a href=\"post/CTF-Basic-knowledge#文件内容隐写\"></a></h4><p>直接在文件内容中查找类似<strong>key、flag</strong>等字段。</p>\n<div class=\"article-img\"><p><img src=\"https://i.loli.net/2019/07/24/5d373b2e0ee0175231.png\" alt=\"6\" data-zoomable></p></div>\n<h3 id=\"1-2-图片隐写术\"><font color=\"#3CB371\" face=\"Comic sans MS\">1.2 图片隐写术</font><a href=\"post/CTF-Basic-knowledge#1-2-图片隐写术\"></a></h3><div class=\"article-img\"><p><img src=\"https://i.loli.net/2019/07/24/5d373dda0798a32416.png\" alt=\"7\" data-zoomable></p></div>\n<h3 id=\"1-3-压缩文件处理\"><font color=\"#3CB371\" face=\"Comic sans MS\">1.3 压缩文件处理</font><a href=\"post/CTF-Basic-knowledge#1-3-压缩文件处理\"></a></h3><h3 id=\"1-4-流量取证技术\"><font color=\"#3CB371\" face=\"Comic sans MS\">1.4 流量取证技术</font><a href=\"post/CTF-Basic-knowledge#1-4-流量取证技术\"></a></h3>","next":{"title":"CTF-SMB-Information-leakage","link":"post/CTF-SMB-Information-leakage"},"plink":"https://Directoree.github.io/post/CTF-Basic-knowledge/","toc":[{"title":"<font color=\"#FF6347\" face=\"Comic sans MS\">一、Misc</font>","id":"一、Misc","index":"1","children":[{"title":"<font color=\"#3CB371\" face=\"Comic sans MS\">1.1 文件操作与隐写</font>","id":"1-1-文件操作与隐写","index":"1.1","children":[{"title":"<font color=\"#3CB371\" face=\"Comic sans MS\">文件类型识别</font>","id":"文件类型识别","index":"1.1.1"},{"title":"<font color=\"#3CB371\" face=\"Comic sans MS\">文件分离操作</font>","id":"文件分离操作","index":"1.1.2"},{"title":"<font color=\"#3CB371\" face=\"Comic sans MS\">文件分离操作</font>","id":"文件分离操作-1","index":"1.1.3"},{"title":"<font color=\"#3CB371\" face=\"Comic sans MS\">文件合并操作</font>","id":"文件合并操作","index":"1.1.4"},{"title":"<font color=\"#3CB371\" face=\"Comic sans MS\">文件内容隐写</font>","id":"文件内容隐写","index":"1.1.5"}]},{"title":"<font color=\"#3CB371\" face=\"Comic sans MS\">1.2 图片隐写术</font>","id":"1-2-图片隐写术","index":"1.2"},{"title":"<font color=\"#3CB371\" face=\"Comic sans MS\">1.4 流量取证技术</font>","id":"1-4-流量取证技术","index":"1.3"}]}],"reward":true,"copyright":{"author":"Directoree","link":"<a href=\"https://Directoree.github.io/post/CTF-Basic-knowledge/\" title=\"CTF-Basic-knowledge\">https://Directoree.github.io/post/CTF-Basic-knowledge/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}